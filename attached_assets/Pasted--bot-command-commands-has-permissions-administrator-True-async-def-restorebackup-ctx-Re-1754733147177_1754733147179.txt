@bot.command()
@commands.has_permissions(administrator=True)
async def restorebackup(ctx):
    """Restore database from cloud backup (GitHub or local)"""
    embed = discord.Embed(
        title="‚ö†Ô∏è **Restore Confirmation**",
        description=
        ("```diff\n+ COSMIC DATABASE RESTORATION RITUAL +\n```\n"
         "‚ö†Ô∏è *This will replace your current database with the latest backup.*\n"
         "üî• ***ALL CURRENT DATA WILL BE LOST!***\n\n"
         "React with ‚úÖ to confirm or ‚ùå to cancel."),
        color=0xFFB800)

    embed.add_field(
        name="üõ°Ô∏è **Safety Measures**",
        value=
        "```yaml\nCurrent DB: Will be backed up first\nRestore Source: Latest backup (GitHub/Local)\nRollback: Possible via pre-restore backup\n```",
        inline=False)

    message = await ctx.send(embed=embed)
    await message.add_reaction("‚úÖ")
    await message.add_reaction("‚ùå")

    def check(reaction, user):
        return (user == ctx.author and str(reaction.emoji) in ["‚úÖ", "‚ùå"]
                and reaction.message.id == message.id)

    try:
        reaction, user = await bot.wait_for('reaction_add',
                                            timeout=30.0,
                                            check=check)

        if str(reaction.emoji) == "‚úÖ":
            embed = discord.Embed(
                title="üîÑ **Restoring from Cloud...**",
                description=
                "```css\n[COSMIC DATA RESTORATION IN PROGRESS]\n```\n‚ö° *Downloading and restoring backup from cloud storage...*",
                color=0xFFAA00)

            await message.edit(embed=embed)

            success = restore_from_cloud()

            if success:
                embed = discord.Embed(
                    title="‚úÖ **Restore Complete**",
                    description=
                    ("```fix\n‚óÜ COSMIC DATABASE RESTORATION SUCCESSFUL ‚óÜ\n```\n"
                     "üíé *Database has been restored from backup!*\n"
                     "‚ö° ***Bot restart recommended.***"),
                    color=0x00FF00)

                embed.add_field(
                    name="üîÑ **Next Steps**",
                    value=
                    "```yaml\n1. Bot restart recommended\n2. Verify data integrity\n3. Check all functions\n4. Old DB backed up as pre-restore\n```",
                    inline=False)
            else:
                embed = discord.Embed(
                    title="‚ùå **Restore Failed**",
                    description=
                    "```diff\n- RESTORATION RITUAL FAILED\n```\nüíÄ *Failed to restore from backup. Check logs for details.*",
                    color=0xFF0000)

        else:
            embed = discord.Embed(
                title="‚ùå **Restore Cancelled**",
                description=
                "```css\n[RESTORATION RITUAL CANCELLED]\n```\nüõ°Ô∏è *Your current database remains unchanged.*",
                color=0x808080)

    except asyncio.TimeoutError:
        embed = discord.Embed(
            title="‚è∞ **Timeout**",
            description=
            "```css\n[RESTORATION RITUAL TIMEOUT]\n```\nüïê *No response received. Current database remains unchanged.*",
            color=0x808080)

    await message.edit(embed=embed)